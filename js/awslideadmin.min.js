function aw_slide_init(){enable_aw_device_menu();register_aw_slide_events();aw_fill_background_frm();aw_update_device_background();aw_sycn_elements()}function register_aw_slide_events(){var e={change:aw_colorchanged,clear:aw_colorcleared};jQuery("#aw_bg_color").wpColorPicker(e);jQuery("#aw_text_color").wpColorPicker({change:aw_text_colorchanged,clear:aw_text_colorcleared});jQuery("#aw_text_bg_color").wpColorPicker({change:aw_text_bg_colorchanged,clear:aw_text_bg_colorcleared});jQuery("#aw_layers").resizable({handles:"s"});jQuery(".aw_layers_ul").sortable({handle:".aw_layer_actions span",axis:"y",stop:aw_layers_sorted});jQuery(".aw_layers_ul").disableSelection();jQuery("#awfrm_bg_settings :input").change(aw_bg_settings_update);jQuery("#awfrm_animation_settings :input").change(function(){aw_elements_settings_update("awfrm_animation_settings")});jQuery("#awfrm_video_settings :input").change(function(){aw_elements_settings_update("awfrm_video_settings")});jQuery("#awfrm_text_settings :input").change(function(){aw_elements_settings_update("awfrm_text_settings")});jQuery("#awfrm_img_settings :input").change(function(){aw_elements_settings_update("awfrm_img_settings")});register_aw_ace_build();set_aw_auto_complete_css();register_awslide_button_events()}function show_aw_preview(){jQuery("#aw_preview_div").show();jQuery("#aw_preview_frame").attr("width",jQuery("#aw_device").width());jQuery("#aw_preview_frame").attr("height",jQuery("#aw_device").height());jQuery("#aw_preview_frame").attr("src",aw_preview_url+jQuery("#aw_preview_frame").data("id"))}function aw_save_slide(e){jQuery(".aw_slide_save_button").html('<i class="fa fa-refresh fa-spin"></i>Saving...');var t=awe_form_data("saveslidedata",jQuery("#aw_slide_data_frm"));jQuery("#slideloader").show();awe_ajax(t,"awsaveslideresponse")}function isvalideawjson(e){try{JSON.parse(e)}catch(t){return false}return true}function awsaveslideresponse(e){jQuery(".aw_slide_save_button").html('<i class="fa fa-refresh"></i>Save Slide')}function aw_layers_sorted(e,t){var n=aw_get_slide_obj();var r=jQuery("#aw_layers_ul >li").length;jQuery("#aw_layers_ul >li").each(function(){var e=jQuery(this).data("id");n.elements[e].zindex=r-jQuery(this).index()});aw_set_slide_obj(n);aw_sycn_elements()}function register_awslide_button_events(){jQuery("#aw_delete_layer_button").click(function(){if(jQuery(this).hasClass("disabled")){return}var e=confirm("Are you sure?");if(!e){return}if(jQuery("#aw_device .aw_element.selected").length){var t=jQuery("#aw_device .aw_element.selected").data("id");var n=aw_get_slide_obj();delete n["elements"][t];aw_set_slide_obj(n);aw_bg_settings_update();jQuery("#aw_device .aw_element.selected").remove();jQuery(this).addClass("disabled");jQuery(".aw_eleprop").addClass("aw_hidden");jQuery("#aw_stage_prop").removeClass("aw_hidden");aw_sycn_elements()}});jQuery("#aw_delete_all_layer_button").click(function(){var e=confirm("Are you sure?");if(!e){return}var t=aw_get_slide_obj();t["elements"]={};aw_set_slide_obj(t);aw_bg_settings_update();jQuery("#aw_device .aw_element").remove();jQuery("#aw_delete_layer_button").addClass("disabled");jQuery(".aw_eleprop").addClass("aw_hidden");jQuery("#aw_stage_prop").removeClass("aw_hidden");aw_sycn_elements()})}function aw_text_resized(e,t){jQuery(t.element).textfill();jQuery(t.element).css({height:"auto",width:"auto"})}function register_aw_ace_build(){jQuery("#aw_css_editor_div").draggable({handle:".aw_css_editor_header"});jQuery("#aw_import_div").draggable({handle:".aw_css_editor_header"});ace.config.loadModule("ace/ext/language_tools",function(){editor=ace.edit("aw_css_editor_area");editor.setOptions({enableBasicAutocompletion:true,enableSnippets:false});editor.setTheme("ace/theme/xcode");editor.getSession().setMode("ace/mode/css");window.editor=editor;window.ace=ace})}function save_aw_css(){var e=editor.getValue();var t={action:"save_infy_custom_css",cssstr:e};var t={};t["request_type"]="updateawcss";t["cssdata"]=e;jQuery("#aw_css_save_button").html("Saving...");awe_ajax(t,"awcsssaved")}function awcsssaved(e){jQuery("#aw_css_save_button").html("Save");aw_css_arr=jQuery.evalJSON(e);set_aw_auto_complete_css();reload_aw_css()}function reload_aw_css(){var e=aw_random_string(4);jQuery("#awe-custom-css-css").attr("href",aw_slider_custom_css+"?rnd="+e)}function split(e){return e.split(/\s/)}function extractLast(e){return split(e).pop()}function set_aw_auto_complete_css(){jQuery(".aw_class").bind("keydown",function(e){if(e.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).data("ui-autocomplete").menu.active){e.preventDefault()}}).autocomplete({minLength:0,source:function(e,t){t(jQuery.ui.autocomplete.filter(aw_css_arr,extractLast(e.term)))},focus:function(){return false},select:function(e,t){var n=split(this.value);n.pop();n.push(t.item.value);n.push("");this.value=n.join(" ");return false}})}function aw_show_layer_edit(e){if(jQuery(e).find("input").length){return}jQuery(e).append('<input type="text" onkeyup="aw_layer_edit_keyup(this, event);" onblur="aw_edit_layer(this);" id="temp_layer_name" value="'+jQuery(e).html()+'" />').find("#temp_layer_name").css({position:"absolute",left:jQuery(e).position().left,"margin-top":"-4px",width:160}).focus()}function aw_edit_layer(e){if(jQuery(e).val()==""){return}var t=jQuery(e).parent().parent().parent();var n=aw_get_slide_obj();n.elements[t.data("id")].layername=jQuery(e).val();aw_set_slide_obj(n);aw_sycn_elements()}function aw_layer_edit_keyup(e,t){if(t.keyCode==13||t.keyCode==27){aw_edit_layer(e)}}function aw_show_hide_layers(e){if(jQuery(e).find("span:first").html()=="+"){jQuery(e).find("span:first").html("-");jQuery("#aw_layers").show()}else{jQuery(e).find("span:first").html("+");jQuery("#aw_layers").hide()}}function aw_bgimg_selected(e){jQuery("#aw_bg_remove_but").removeClass("aw_hidden");jQuery("#aw_bg_img").val(e);var t=aw_get_slide_obj();t["background"]["bg_img"]=e;aw_set_slide_obj(t);aw_bg_settings_update()}function remove_aw_bg_image(){jQuery("#aw_bg_remove_but").addClass("aw_hidden");jQuery("#aw_bg_img").val("");var e=aw_get_slide_obj();e["background"]["bg_img"]="";aw_set_slide_obj(e);aw_bg_settings_update()}function aw_colorchanged(e,t){var n=aw_get_slide_obj();n["background"]["bg_color"]=t.color.toString();aw_set_slide_obj(n);aw_bg_settings_update()}function aw_colorcleared(){var e=aw_get_slide_obj();e["background"]["bg_color"]="";aw_set_slide_obj(e);aw_bg_settings_update()}function aw_text_bg_colorchanged(e,t){var n=jQuery("#aw_device .aw_element.selected").data("id");var r=aw_get_slide_obj();r.elements[n].prop.desktop.aw_text_bg_color=t.color.toString();r.elements[n].prop.tablet.aw_text_bg_color=t.color.toString();r.elements[n].prop.mobile.aw_text_bg_color=t.color.toString();aw_set_slide_obj(r);aw_sycn_elements()}function aw_text_colorchanged(e,t){var n=jQuery("#aw_device .aw_element.selected").data("id");var r=aw_get_slide_obj();r.elements[n].prop.desktop.aw_text_color=t.color.toString();r.elements[n].prop.tablet.aw_text_color=t.color.toString();r.elements[n].prop.mobile.aw_text_color=t.color.toString();aw_set_slide_obj(r);aw_sycn_elements()}function aw_text_bg_colorcleared(){var e=jQuery("#aw_device .aw_element.selected").data("id");var t=aw_get_slide_obj();t.elements[e].prop.desktop.aw_text_bg_color="";t.elements[e].prop.tablet.aw_text_bg_color="";t.elements[e].prop.mobile.aw_text_bg_color="";aw_set_slide_obj(t);aw_sycn_elements()}function aw_text_colorcleared(){var e=jQuery("#aw_device .aw_element.selected").data("id");var t=aw_get_slide_obj();t.elements[e].prop.desktop.aw_text_color="";t.elements[e].prop.tablet.aw_text_color="";t.elements[e].prop.mobile.aw_text_color="";aw_set_slide_obj(t);aw_sycn_elements()}function aw_bg_settings_update(){var e=jQuery("#awfrm_bg_settings").serializeObject();e.desktop_width="950";e.tablet_width="770";e.mobile_width="400";var t=aw_get_slide_obj();t["background"]=e;aw_set_slide_obj(t);aw_update_device_background()}function aw_elements_settings_update(e){if(jQuery("#aw_device .aw_element.selected").length){var t=aw_get_slide_obj();if(jQuery("#aw_device .aw_element.selected").data("type")=="video"){if(!jQuery('input[name="aw_video_ratio"]:checked').length){jQuery("#aw_video_ratio_43").attr("checked","checked")}var n=jQuery('input[name="aw_video_ratio"]:checked').val().split(":");var r=Number(jQuery("#aw_video_width").val())/Number(n[0])*Number(n[1]);jQuery("#aw_video_height").val(r)}var i=jQuery("#"+e).serializeObject();var s=jQuery("#awfrm_animation_settings").serializeObject();var o=jQuery("#aw_device .aw_element.selected").data("id");var u=jQuery(".aw_devices li.active").data("device");i.animation=jQuery.extend({},t.elements[o].prop[u].animation,s);t.elements[o].prop[u]=jQuery.extend({},t.elements[o].prop[u],i);aw_set_slide_obj(t);aw_sycn_elements();jQuery("#"+o).click()}}function aw_fill_background_frm(){var e=aw_get_slide_obj();var t=jQuery(".aw_devices li.active").data("device");jQuery("#awfrm_bg_settings :input").each(function(){var t=jQuery(this);var n=t.prop("tagName");if(n=="INPUT"){if(t.attr("type")=="text"||t.attr("type")=="hidden"){t.val(e.background[t.attr("name")]);if(t.attr("name")=="bg_img"){if(e.background[t.attr("name")]!=""){jQuery("#aw_bg_remove_but").removeClass("aw_hidden")}else{jQuery("#aw_bg_remove_but").addClass("aw_hidden")}}}else if(t.attr("type")=="radio"){if(t.val()==e.background[t.attr("name")]){t.attr("checked","checked")}else{t.removeAttr("checked")}}else if(t.attr("type")=="checkbox"){if(e.background[t.attr("name")]){if(t.val()==e.background[t.attr("name")]){t.attr("checked","checked")}else{t.removeAttr("checked")}}else{t.removeAttr("checked")}}}else if(n=="SELECT"){t.val(e.background[t.attr("name")])}});jQuery("#aw_bg_color").keyup()}function aw_update_device_background(){var e=aw_get_slide_obj();var t=jQuery(".aw_devices li.active").data("device");var n={};if(t=="desktop"){}else if(t=="tablet"){}else if(t=="mobile"){}n["height"]=e["background"][t+"_height"]?parseInt(e["background"][t+"_height"]):"";jQuery("#aw_playground").height(n["height"]);n["background-color"]=e["background"]["bg_color"]?e["background"]["bg_color"]:"transparent";n["background-image"]=e["background"]["bg_img"]?"url("+e["background"]["bg_img"]+")":"none";var r=e["background"]["bg_img_position"]?e["background"]["bg_img_position"]:"tl";var i={tl:"0% 0%",tc:"50% 0%",tr:"100% 0%",ml:"0% 50%",mc:"50% 50%",mr:"100% 50%",bl:"0% 100%",bc:"50% 100%",br:"100% 100%"};n["background-position"]=i[r];n["background-repeat"]="no-repeat";jQuery("#aw_device").css(n)}function aw_set_slide_obj(e){jQuery("#aw_slide_data").val(jQuery.toJSON(e))}function aw_get_slide_obj(){return jQuery.evalJSON(jQuery("#aw_slide_data").val())}function enable_aw_device_menu(){jQuery(".aw_devices > li").click(function(){jQuery(".aw_devices li").removeClass("active");jQuery(this).addClass("active");jQuery("#aw_device").removeClass("desktop").removeClass("tablet").removeClass("mobile");jQuery("#aw_device").addClass(jQuery(this).data("device"));aw_update_device_background();aw_sycn_elements()})}function aw_add_image_layer(e){var t=aw_get_slide_obj();var n=Object.keys(t["elements"]).length+1;jQuery("#awfrm_img_settings")[0].reset();jQuery('#awfrm_img_settings input[name="aw_height"]').val("");var r=jQuery("#awfrm_img_settings").serializeObject();r.aw_pos_x="0";r.aw_pos_y="0";r.aw_link_action="link";r.hide=false;r.lock=false;r.disable=false;jQuery("#awfrm_animation_settings")[0].reset();r.animation=jQuery("#awfrm_animation_settings").serializeObject();r.animation.aw_time=n*300;r.animation.aw_appear_speed=400;r.animation.aw_disappear_delay=0;r.animation.aw_disappear_speed=400;var i=aw_random_string(10);var s={};s.type="image";s.layername="Image Layer "+n;s.zindex=n;s.aw_img_src=e;s.prop={};s.prop.desktop=r;s.prop.tablet=r;s.prop.mobile=r;t["elements"][i]=s;aw_set_slide_obj(t);aw_sycn_elements()}function aw_add_text_layer(){var e=aw_get_slide_obj();var t=Object.keys(e["elements"]).length+1;jQuery("#awfrm_text_settings")[0].reset();var n=jQuery("#awfrm_text_settings").serializeObject();n.aw_text="Your Text Here";n.aw_pos_x="0";n.aw_pos_y="0";n.aw_width="300";n.aw_link_action="link";n.hide=false;n.lock=false;n.disable=false;jQuery("#awfrm_animation_settings")[0].reset();n.animation=jQuery("#awfrm_animation_settings").serializeObject();n.animation.aw_time=t*300;n.animation.aw_appear_speed=400;n.animation.aw_disappear_delay=0;n.animation.aw_disappear_speed=400;var r=aw_random_string(10);var i={};i.type="text";i.layername="Text Layer "+t;i.zindex=t;i.prop={};i.prop.desktop=n;i.prop.tablet=n;i.prop.mobile=n;e["elements"][r]=i;aw_set_slide_obj(e);aw_sycn_elements()}function aw_add_video_layer(){var e=aw_get_slide_obj();var t=Object.keys(e["elements"]).length+1;jQuery("#awfrm_video_settings")[0].reset();var n=jQuery("#awfrm_video_settings").serializeObject();n.aw_video="1iIZeIy7TqM";n.aw_video_autoplay="0";n.aw_pos_x="0";n.aw_pos_y="0";n.aw_width="200";n.aw_height="150";n.aw_video_ratio="4:3";n.hide=false;n.lock=false;n.disable=false;jQuery("#awfrm_animation_settings")[0].reset();n.animation=jQuery("#awfrm_animation_settings").serializeObject();n.animation.aw_time=t*300;n.animation.aw_appear_speed=400;n.animation.aw_disappear_delay=0;n.animation.aw_disappear_speed=400;var r=aw_random_string(10);var i={};i.type="video";i.zindex=t;i.layername="Video Layer "+t;i.prop={};i.prop.desktop=n;i.prop.tablet=n;i.prop.mobile=n;e["elements"][r]=i;aw_set_slide_obj(e);aw_sycn_elements()}function aw_sycn_elements(){var e=jQuery(".aw_devices li.active").data("device");var t=jQuery("#aw_device .aw_element.selected").attr("id");jQuery("#aw_device").html("");jQuery("#aw_layers_ul").html("");var n=aw_get_slide_obj();for(var r in n.elements){if(n.elements[r].prop[e].aw_hidden){if(n.elements[r].prop[e].aw_hidden=="1"){add_aw_layer(r);continue}}if(n.elements[r].prop[e].aw_disabled){if(n.elements[r].prop[e].aw_disabled=="1"){add_aw_layer(r);continue}}var i=aw_get_element_css(n.elements[r]);var s="";if(n.elements[r].type=="image"){s='<div class="aw_element aw_image '+n.elements[r].prop[e].aw_class+'" data-type="'+n.elements[r].type+'" id="'+r+'" data-id="'+r+'"><img src="'+n.elements[r].aw_img_src+'" /></div>'}else if(n.elements[r].type=="text"){s='<div class="aw_element aw_text '+n.elements[r].prop[e].aw_class+'" data-type="'+n.elements[r].type+'" id="'+r+'" data-id="'+r+'"><span>'+n.elements[r].prop[e].aw_text+"</span></div>"}else if(n.elements[r].type=="video"){s='<div class="aw_element aw_video '+n.elements[r].prop[e].aw_class+'" data-type="'+n.elements[r].type+'" id="'+r+'" data-id="'+r+'">&nbsp;</div>'}jQuery("#aw_device").prepend(s).find(".aw_element:first").css(i);if(n.elements[r].type=="text"){jQuery("#aw_device").find(".aw_element:first").textfill()}jQuery("#aw_device").find(".aw_element:first").mousedown(aw_element_clicked);jQuery("#aw_device").find(".aw_element:first").draggable({stop:aw_element_stopped}).resizable({aspectRatio:true,stop:aw_element_stopped,minWidth:50});if(n.elements[r].prop[e].aw_locked){if(n.elements[r].prop[e].aw_locked=="1"){jQuery("#aw_device").find(".aw_element:first").draggable("disable")}}add_aw_layer(r)}jQuery("#aw_layers_ul").sortLayers();aw_manage_layer_timing();jQuery("#"+t).mousedown();jQuery(".aw_layer_timing").mousedown(function(){var e=jQuery(this).parent().parent().data("id");jQuery("#"+e).mousedown()});jQuery(".aw_layer_timings").mousedown(function(){var e=jQuery(this).parent().data("id");jQuery("#"+e).mousedown()});position_layer_actions()}function aw_manage_layer_timing(){jQuery(".aw_layer_timing").draggable({axis:"x",containment:"parent",stop:aw_layer_timing_stopped});jQuery(".aw_layer_timing").resizable({handles:"e,w",containment:"parent",stop:aw_layer_timing_stopped});var e=aw_get_element_max_time();var t=aw_get_slide_obj();var n=aw_get_selected_device();var r=0;var i=0;var e=aw_get_element_max_time();jQuery(".aw_layer_timings").width(e*.45+500);jQuery(".layer_timing_text").width(jQuery(".aw_layer_timings").width());for(var s in t.elements){r=parseInt(t.elements[s].prop[n].animation.aw_time);i=parseInt(t.elements[s].prop[n].animation.aw_appear_speed);jQuery("#awlayer"+s+" .aw_layer_timing").css({left:r*.45,width:i*.45})}var o=parseInt(jQuery(".layer_timing_text").width()/.45);jQuery(".layer_timing_text").html("");for(lt=0;lt<o;lt=lt+100){jQuery(".layer_timing_text").append("<span>"+lt+"<span>")}return;jQuery(".aw_layer_timing").slider({min:0,max:100,stop:aw_layer_timing_stopped});var e=aw_get_element_max_time();var t=aw_get_slide_obj();var n=aw_get_selected_device();var r=0;for(var s in t.elements){r=parseInt(t.elements[s].prop[n].animation.aw_time);jQuery("#awlayer"+s+" .aw_layer_timing").slider("value",parseInt(r/e*100))}}function aw_layer_timing_stopped(e,t){var n=jQuery(t.helper).parent().parent().data("id");var r=aw_get_selected_device();var i=aw_get_slide_obj();var s=parseInt(Number(jQuery(t.helper).position().left)/.45);var o=parseInt(Number(jQuery(t.helper).width())/.45);i.elements[n].prop[r].animation.aw_time=s>=0?s:0;i.elements[n].prop[r].animation.aw_appear_speed=o;aw_set_slide_obj(i);aw_sycn_elements();jQuery("#"+n).mousedown()}function position_layer_actions(){jQuery(".aw_layer_actions").css({left:jQuery("#aw_layers").scrollLeft()})}function aw_get_element_max_time(){var e=aw_get_slide_obj();var t=aw_get_selected_device();var n=new Array;for(var r in e.elements){n.push(parseInt(e.elements[r].prop[t].animation.aw_time)+parseInt(e.elements[r].prop[t].animation.aw_appear_speed))}n.sort(function(e,t){return e-t});n.reverse();return n[0]}function add_aw_layer(e){var t=aw_get_slide_obj();var n=aw_get_selected_device();var r=t.elements[e].prop[n].aw_hidden&&t.elements[e].prop[n].aw_hidden=="1"?"fa fa-eye-slash active":"fa fa-eye";var i=t.elements[e].prop[n].aw_locked&&t.elements[e].prop[n].aw_locked=="1"?"fa fa-lock active":"fa fa-unlock";var s=t.elements[e].prop[n].aw_disabled&&t.elements[e].prop[n].aw_disabled=="1"?"fa fa-plus-square active":"fa fa-minus-square";var o='<li id="awlayer'+e+'" data-id="'+e+'" data-sort="'+t.elements[e]["zindex"]+'"><div class="aw_layer_actions fl">';o+='<i title="Click to Show/Hide element in the stage, it will be always displayed in the front-end" onclick="aw_hide_element(this);" class="'+r+'"></i>';o+='<i title="Click to Lock/Unlock element" onclick="aw_lock_element(this);" class="'+i+'"></i>';o+='<i title="Click to Disable/Enable element. The element will not be displayed in front-end" onclick="aw_disable_element(this);" class="'+s+'"></i>';o+='<span class="fl" title="- Click to Select Layer \n- Double Click to Change Layer Name \n- Drag Vertically to Sort " onclick="aw_select_element(this);" ondblclick="aw_show_layer_edit(this);">';o+=t.elements[e]["layername"];o+="</span></div>";o+='<div class="aw_layer_timings fl">';o+='<div class="aw_layer_timing" title="Drag horizontally to adjust appearance timing"></div>';o+='</div><br class="clr" /></li>';jQuery("#aw_layers_ul").append(o)}function aw_disable_element(e){var t=aw_get_slide_obj();var n=jQuery(e).parent().parent();var r=n.data("id");var i=aw_get_selected_device();var s=jQuery(e).attr("class");if(s=="fa fa-minus-square"){t.elements[r].prop[i]["aw_disabled"]="1"}else{t.elements[r].prop[i]["aw_disabled"]="0"}aw_set_slide_obj(t);aw_sycn_elements()}function aw_lock_element(e){var t=aw_get_slide_obj();var n=jQuery(e).parent().parent();var r=n.data("id");var i=aw_get_selected_device();var s=jQuery(e).attr("class");if(s=="fa fa-unlock"){t.elements[r].prop[i]["aw_locked"]="1"}else{t.elements[r].prop[i]["aw_locked"]="0"}aw_set_slide_obj(t);aw_sycn_elements()}function aw_hide_element(e){var t=aw_get_slide_obj();var n=jQuery(e).parent().parent();var r=n.data("id");var i=aw_get_selected_device();var s=jQuery(e).attr("class");if(s=="fa fa-eye"){t.elements[r].prop[i]["aw_hidden"]="1"}else{t.elements[r].prop[i]["aw_hidden"]="0"}aw_set_slide_obj(t);aw_sycn_elements()}function aw_select_element(e){var t=jQuery(e).parent().parent();jQuery("#aw_layers_ul >li").removeClass("selected");t.addClass("selected");jQuery("#"+t.data("id")).mousedown()}function aw_element_clicked(){jQuery("#aw_device").find(".aw_element").removeClass("selected");jQuery(this).addClass("selected");jQuery("#aw_delete_layer_button").removeClass("disabled");var e=jQuery(this).data("type");var t=jQuery(this).data("id");jQuery(".aw_eleprop").addClass("aw_hidden");if(e=="image"){jQuery("#aw_image_prop").removeClass("aw_hidden");aw_fill_form("awfrm_img_settings",t)}else if(e=="text"){jQuery("#aw_text_prop").removeClass("aw_hidden");aw_fill_form("awfrm_text_settings",t);jQuery("#aw_text_color").keyup();jQuery("#aw_text_bg_color").keyup()}else if(e=="video"){jQuery("#aw_video_prop").removeClass("aw_hidden");aw_fill_form("awfrm_video_settings",t)}jQuery("#aw_animation_prop").removeClass("aw_hidden");jQuery("#aw_stage_prop").removeClass("aw_hidden");jQuery("#aw_layers_ul >li").removeClass("selected");jQuery("#awlayer"+t).addClass("selected")}function aw_fill_form(e,t){var n=aw_get_slide_obj();var r=jQuery(".aw_devices li.active").data("device");jQuery("#"+e+" :input").each(function(){var e=jQuery(this);var i=e.prop("tagName");if(i=="INPUT"){if(e.attr("type")=="text"||e.attr("type")=="hidden"){e.val(n.elements[t].prop[r][e.attr("name")])}else if(e.attr("type")=="radio"){if(e.val()==n.elements[t].prop[r][e.attr("name")]){e.attr("checked","checked")}else{e.removeAttr("checked")}}else if(e.attr("type")=="checkbox"){if(n.elements[t].prop[r][e.attr("name")]){if(e.val()==n.elements[t].prop[r][e.attr("name")]){e.attr("checked","checked")}else{e.removeAttr("checked")}}else{e.removeAttr("checked")}}}else if(i=="SELECT"){e.val(n.elements[t].prop[r][e.attr("name")])}});jQuery("#awfrm_animation_settings :input").each(function(){var e=jQuery(this);var i=e.prop("tagName");if(i=="INPUT"){if(e.attr("type")=="text"||e.attr("type")=="hidden"){e.val(n.elements[t].prop[r].animation[e.attr("name")])}else if(e.attr("type")=="radio"){if(e.val()==n.elements[t].prop[r].animation[e.attr("name")]){e.attr("checked","checked")}else{e.removeAttr("checked")}}else if(e.attr("type")=="checkbox"){if(n.elements[t].prop[r].animation[e.attr("name")]){if(e.val()==n.elements[t].prop[r].animation[e.attr("name")]){e.attr("checked","checked")}else{e.removeAttr("checked")}}else{e.removeAttr("checked")}}}else if(i=="SELECT"){e.val(n.elements[t].prop[r].animation[e.attr("name")])}});aw_set_slide_obj(n)}function aw_image_changed(e){var t=aw_get_slide_obj();var n=jQuery("#aw_device .aw_element.selected").data("id");t.elements[n]["aw_img_src"]=e;delete t.elements[n].prop.desktop.aw_height;delete t.elements[n].prop.tablet.aw_height;delete t.elements[n].prop.mobile.aw_height;aw_set_slide_obj(t);aw_sycn_elements()}function aw_reset_image(){var e=aw_get_slide_obj();var t=jQuery("#aw_device .aw_element.selected").data("id");delete e.elements[t].prop.desktop.aw_height;delete e.elements[t].prop.tablet.aw_height;delete e.elements[t].prop.mobile.aw_height;delete e.elements[t].prop.desktop.aw_width;delete e.elements[t].prop.tablet.aw_width;delete e.elements[t].prop.mobile.aw_width;aw_set_slide_obj(e);aw_sycn_elements()}function aw_element_stopped(e,t){var n=jQuery(t.helper).data("type");if(n=="text"){jQuery(t.helper).textfill();jQuery(t.helper).css({height:"auto"})}if(n=="image"){var r="awfrm_img_settings"}else if(n=="text"){var r="awfrm_text_settings"}else if(n=="video"){var r="awfrm_video_settings"}jQuery("#"+r).find(':input[name="aw_pos_x"]').val(parseInt(jQuery(t.helper).position().left));jQuery("#"+r).find(':input[name="aw_pos_y"]').val(parseInt(jQuery(t.helper).position().top));jQuery("#"+r).find(':input[name="aw_width"]').val(parseInt(jQuery(t.helper).width()));jQuery("#"+r).find(':input[name="aw_height"]').val(parseInt(jQuery(t.helper).height()));aw_elements_settings_update(r)}function aw_get_element_css(e){var t=jQuery(".aw_devices li.active").data("device");var n=jQuery("#aw_device .aw_element.selected").data("type");var r=e.prop[t];var i={};if(r.aw_pos_x){i.left=parseInt(r.aw_pos_x)}if(r.aw_pos_y){i.top=parseInt(r.aw_pos_y)}if(r.aw_width){i.width=parseInt(r.aw_width)}if(r.aw_height&&n!="text"){i.height=parseInt(r.aw_height)}if(r.aw_text_color&&r.aw_text_color!=""){i.color=r.aw_text_color}if(r.aw_text_bg_color&&r.aw_text_bg_color!=""){i["background-color"]=r.aw_text_bg_color}if(r.aw_text_padding&&r.aw_text_padding!=""){i.padding=r.aw_text_padding}if(e.zindex){i.zIndex=parseInt(e.zindex)}return i}function aw_get_selected_device(){return jQuery(".aw_devices li.active").data("device")}function aw_random_string(e,t){t=t||36;var n="",r;while(n.length<e){r=Math.random().toString(t).slice(2);n+=r.slice(0,Math.min(r.length,e-n.length))}return n.toLowerCase()}jQuery(document).ready(function(){aw_slide_init()});jQuery.fn.sortLayers=function(){function t(e,t){return jQuery(t).data("sort")>jQuery(e).data("sort")?1:-1}jQuery("> li",this[0]).sort(t).appendTo(this[0])}